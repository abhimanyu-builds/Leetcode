@startuml component-architecture
skinparam shadowing false
skinparam linetype ortho
skinparam dpi 300
left to right direction
scale 1.5

package "Orchestration" {
  [Program]
  [ProblemStrategyFactory]
  [ProblemTestCaseFactory]
}

package "Strategy Layer" {
  [StrategyRegistryBuilder]
  [Strategy Implementations]
  [IProblemSolution]
  [IProblemStrategy]
}

package "Test Harness" {
  [ProblemTest]
  [StrategyBenchmark]
  [TestCase]
  [TestResult]
  [BenchmarkResult]
  [BenchmarkSummary]
  [IBenchmarkSummary]
  [ComparerResolver]
  [ComparerHelper]
  [TestCaseProviderRegistryBuilder]
}

package "Documentation & Helpers" {
  [BenchmarkFormatter]
  [GenerateDocumentationIndex]
  [StrategyPlaybook.md]
  [Markdown Problem Descriptions]
}

' === Orchestration Relationships ===
[Program] --> [ProblemStrategyFactory]
[Program] --> [ProblemTestCaseFactory]
[Program] --> [ProblemTest]
[Program] --> [BenchmarkFormatter]

' === Strategy Layer Relationships ===
[ProblemStrategyFactory] --> [StrategyRegistryBuilder]
[StrategyRegistryBuilder] --> [Strategy Implementations]
[Strategy Implementations] --> [IProblemSolution]
[Strategy Implementations] --> [IProblemStrategy]

' === Test Harness Relationships ===
[ProblemTestCaseFactory] --> [TestCaseProviderRegistryBuilder]
[TestCaseProviderRegistryBuilder] --> [TestCase]
[ProblemTest] --> [TestCase]
[ProblemTest] --> [TestResult]
[ProblemTest] --> [BenchmarkSummary]
[BenchmarkSummary] --> [IBenchmarkSummary]
[ProblemTest] --> [ComparerResolver]
[ComparerResolver] --> [ComparerHelper]

[StrategyBenchmark] --> [BenchmarkResult]
[StrategyBenchmark] --> [IProblemStrategy]

' === Documentation Relationships ===
[GenerateDocumentationIndex] --> [StrategyPlaybook.md]
[GenerateDocumentationIndex] --> [Markdown Problem Descriptions]
[BenchmarkFormatter] --> [IBenchmarkSummary]

@enduml