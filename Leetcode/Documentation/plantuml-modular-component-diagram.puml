@startuml
' Layout and rendering fixes
skinparam componentStyle rectangle
skinparam linetype ortho
skinparam dpi 300
left to right direction
scale 1.5

title Modular Component Diagram – Strategy Framework

' Core orchestration
package "Core Framework" {
  [Program]
  [ProblemStrategyFactory]
  [ProblemTestCaseFactory]
  [ProblemTest]
  [StrategyBenchmark]

  [Program] --> [ProblemStrategyFactory]
  [Program] --> [ProblemTestCaseFactory]
  [Program] --> [ProblemTest]
  [Program] --> [StrategyBenchmark]
}

' Strategy definitions
package "Strategy Layer" {
  [ProblemStrategyFactory] --> [TwoSumStrategies]
  [ProblemStrategyFactory] --> [TwoSumSortedStrategies]
  [ProblemStrategyFactory] --> [ThreeSumStrategies]
  [ProblemStrategyFactory] --> [RotatedArrayStrategies]
  [ProblemStrategyFactory] --> [RemoveElementStrategies]
  [ProblemStrategyFactory] --> [RemoveDuplicatesStrategies]

  package "TwoSumStrategies" {
    [TwoSumOnOneLoopDictionarySolution]
    [TwoSumOn2TwoLoopSolution]
  }

  package "TwoSumSortedStrategies" {
    [TwoSumSortedTwoPointerSolution]
    [TwoSumSortedBinarySearchSolution]
  }

  package "ThreeSumStrategies" {
    [ThreeSum0On2OneLoopDictionarySolution]
    [ThreeSum0On2SortingTwoPointerSolution]
    [ThreeSum0On2Hashset2SumComplementSolution]
  }

  package "RotatedArrayStrategies" {
    [RotatedArrayOlognTwoPointerSolution]
    [RotatedArrayOnBruteForceSolution]
    [RotatedArrayIIOlognTwoPointerSolution]
    [RotatedArrayIIOnBruteForceSolution]
  }

  package "RemoveElementStrategies" {
    [RemoveElementFwdPointerOverwriteSolution]
    [RemoveElementSwapWithEndPointerSolution]
    [RemoveElementTwoPointerPartitioningSolution]
  }

  package "RemoveDuplicatesStrategies" {
    [RemoveDuplicatesSortedTwoPointerSolution]
    [RemoveDuplicatesAllowNTimesSortedTwoPointerSolution]
  }
}

' Test case provisioning
package "Test Case Layer" {
  [ProblemTestCaseFactory] --> [TwoSumTestCaseProvider]
  [ProblemTestCaseFactory] --> [TwoSumSortedTestCaseProvider]
  [ProblemTestCaseFactory] --> [ThreeSumTestCaseProvider]
  [ProblemTestCaseFactory] --> [RotatedArrayTestCaseProvider]
  [ProblemTestCaseFactory] --> [RemoveElementTestCaseProvider]
  [ProblemTestCaseFactory] --> [RemoveDuplicatesSortedTestCaseProvider]
}

' Execution and validation
package "Execution Layer" {
  [ProblemTest] --> [IProblemStrategy]
  [ProblemTest] --> [ComparerResolver]
  [ComparerResolver] --> [ComparerHelper]
  [StrategyBenchmark] --> [IProblemStrategy]
  [StrategyBenchmark] --> [BenchmarkResult]
}

@enduml